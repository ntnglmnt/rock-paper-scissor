<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>

    <script>

        const ROCK = 'rock';
        const PAPER = 'paper';
        const SCISSORS = 'scissor'
        function getComputerChoice(min, max) {

            const minCeiled = Math.ceil(min);
            const maxFloored = Math.floor(max);
            let value = Math.floor(Math.random() * (maxFloored - minCeiled) + minCeiled);

            if (value === 1) {
                return ROCK
            }
            else if (value === 2) {
                return PAPER
            }
            else {
                return SCISSORS
            }
        };

        let header = document.createElement("div");
        document.body.appendChild(header);
        header.classList.add("header");

        let main = document.createElement("div");
        document.body.appendChild(main);
        main.classList.add("main");

        let playerScore = document.createElement("div");
        main.appendChild(playerScore);
        playerScore.textContent = 0;

        let computerScore = document.createElement("div");
        main.appendChild(computerScore);
        computerScore.textContent = 0;

        let btncontainer = document.createElement("div");
        document.body.appendChild(btncontainer);
        btncontainer.classList.add("btncontainer");

        //always strict equality instead of ==, change value from string to number.
        //watch out for duplicate code

        function playRound() {

            let playerChoice = event.target.value;
            let choiceStorage = getComputerChoice(1, 4);

            console.log('The player chose', playerChoice);
            console.log('The computer chose', choiceStorage);
            console.log('FIRST EQUALITY', choiceStorage == PAPER && playerChoice == SCISSORS)
            console.log('SECOND EQUALITY CHECK', choiceStorage == SCISSORS && playerChoice == ROCK)
            console.log('THIRD EQUALITY', choiceStorage == ROCK && playerChoice == PAPER)
            console.log('ELSE IF', playerChoice == choiceStorage)

            if ((choiceStorage == PAPER && playerChoice == SCISSORS) || (choiceStorage == SCISSORS && playerChoice == ROCK) || (choiceStorage == ROCK && playerChoice == PAPER)) {
                playerScore.textContent++;
                header.textContent = 'Player won';
                checkWinner(computerScore.textContent, playerScore.textContent);
            }
            else if (playerChoice == choiceStorage) {
                 header.textContent = 'Draw';
            }
            else {
                 header.textContent = 'Computer won', computerScore.textContent++, checkWinner(computerScore.textContent, playerScore.textContent);
            }
        };

        function checkWinner() {
            if (computerScore.textContent == 5) {

                alert('Computer won this game!');
                computerScore.textContent = 0;
                playerScore.textContent = 0;
            }
            else if (playerScore.textContent == 5) {

                alert('Player won this game!');
                computerScore.textContent = 0;
                playerScore.textContent = 0;
            }
        };

        let btnrock = document.createElement("button");
        btnrock.value = ROCK;
        btnrock.textContent = ROCK;
        btncontainer.appendChild(btnrock);
        btnrock.classList.add("btnrock");
        btnrock.addEventListener("click", playRound);

        let btnpaper = document.createElement("button");
        btncontainer.appendChild(btnpaper);
        btnpaper.classList.add("btnpaper");
        btnpaper.textContent = PAPER;
        btnpaper.value = PAPER;
        btnpaper.addEventListener("click", playRound);

        let btnscissors = document.createElement("button");
        btncontainer.appendChild(btnscissors);
        btnscissors.classList.add("btnscissors");
        btnscissors.textContent = SCISSORS;
        btnscissors.value = SCISSORS;
        btnscissors.addEventListener("click", playRound);





        // function playGame() {

        //     for (let i = 0; i <= 4; i++) {

        //         let playerChoice = getPlayerChoice();
        //         let computerChoice = getComputerChoice(1, 4);
        //         let roundResult = playRound(playerChoice, computerChoice);
        //     }
        //     if (computerScore > playerScore) {
        //         console.log('You lost to a machine...how shameful')
        //     }
        //     else if (playerScore > computerScore) {
        //         console.log('You won against a machine programmed to play rock, paper, scissor...you must be feeling...great?!')
        //     }
        //     else if (playerScore == computerScore) {
        //         console.log('Its uhhh...draw... :/')
        //     }
        // }



    </script>
</body>

</html>